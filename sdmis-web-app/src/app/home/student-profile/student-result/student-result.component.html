<div class="stepper-section">
    <form #result="ngForm">

        <div class="row form-field">
            <div class="col-md-6 col-lg-4 col-xl-3 mt-4">

                <mat-form-field class="w-75">
                    <mat-label>Previous Result (31)</mat-label>
                    <mat-select [(ngModel)]="resultDetail.lastResult" name="resultDetail.lastResult" required [disabled]="!common.allowFormUpdate">
                        <mat-option *ngFor="let res of resultList" [value]='res.value'>{{res.name}}
                        </mat-option>
                    </mat-select>
                    <mat-error>Result is required</mat-error>
                </mat-form-field>

            </div>
            <div class="col-md-6 col-lg-4 col-xl-3 mt-4">
                <mat-form-field class="w-75">
                    <mat-label>Marks Obtained (32)</mat-label>
                    <input matInput placeholder="Marks Obtained" [(ngModel)]="resultDetail.markObtain" [disabled]="!common.allowFormUpdate"
                        name="resultDetail.markObtain" required>
                    <mat-error>Marks Obtained is required</mat-error>
                </mat-form-field>
            </div>
            <div class="col-md-6 col-lg-4 col-xl-3 mt-4">
                <mat-form-field class="w-75">
                    <mat-label>Schooling Status (33)</mat-label>
                    <mat-select [(ngModel)]="resultDetail.schoolingStatus" name="resultDetail.schoolingStatus" required [disabled]="!common.allowFormUpdate">
                        <mat-option *ngFor="let stat of schoolingStatus" [value]='stat.value'>{{stat.name}}
                        </mat-option>
                    </mat-select>
                    <mat-error>Schooling Status is required</mat-error>
                </mat-form-field>
            </div>
            <div class="col-md-6 col-lg-4 col-xl-3 mt-4" *ngIf="common.stdClass == '11' || common.stdClass == '12'">
                <mat-form-field class="w-75">
                    <mat-label>Stream (34)</mat-label>
                    <mat-select [(ngModel)]="resultDetail.stream" name="resultDetail.stream" required [disabled]="!common.allowFormUpdate">
                        <mat-option *ngFor="let stream of streamList" [value]='stream.value'>{{stream.name}}
                        </mat-option>
                    </mat-select>
                    <mat-error>Stream is required</mat-error>
                </mat-form-field>
            </div>
        </div>

        <div class="row" *ngIf="common.allowFormUpdate">
            <div class="col-lg-11 col-md-11">
                <div class="mt-5">
                    <button *ngIf="common.studentAction=='add'" type="button" mat-raised-button color="primary"
                        [ngClass]="{'btn-gradient' : result.valid}" [disabled]="!result.valid"
                        (click)='sendResultDetail()'>Save &
                        Continue</button>
                    <button *ngIf="common.studentAction=='edit'" type="button" mat-raised-button color="primary"
                        [disabled]="!result.valid" [ngClass]="{'btn-gradient' : result.valid}"
                        (click)='sendResultDetail()'>Update</button>
                </div>

            </div>
        </div>
    </form>
</div>

<div *ngIf='alertFlag'>
    <app-alert [message]='alertMsg' [flag]='alertFlag' [count]='alertCount'></app-alert>
</div>