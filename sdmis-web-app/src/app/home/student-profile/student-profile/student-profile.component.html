<div class="mt-4 mb-5">
    <span class="page-head">Student Profile</span>
</div>



<div *ngIf="common.studentAction=='view'" class="mr-5">

    <div class="row align-items-center">
        <div class="col-md-2 mt-2">
            <mat-form-field appearance="outline" class="w-80 search-param">
                <mat-label>Class</mat-label>
                <mat-select name="classMapping.classId" required>
                    <mat-option *ngFor="let class of classList" [value]="class.id">{{class.name}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-md-2 mt-2">
            <mat-form-field appearance="outline" class="w-80 search-param">
                <mat-label>Section</mat-label>
                <mat-select name="classMapping.sectioId">
                    <mat-option *ngFor="let section of sectionList" [value]="section.id">{{section.name}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <div class="table-head">
            <input type="text" class="custom-input" placeholder="Search...">
            <button type="button" mat-raised-button color="primary" class="btn-gradient"
                (click)="common.studentAction = 'add'">Add Student</button>
        </div>

    </div>

    <div *ngIf="basicInfoList.data.length > 0" class="fadeIn">
        <!-- <div class="w-100 table-panel">
            Basic Information of students
        </div> -->
        <table mat-table [dataSource]="basicInfoList" class="w-100 text-center">
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Name</th>
                <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>
            <ng-container matColumnDef="admissionNum">
                <th mat-header-cell *matHeaderCellDef>Admission <br> Number</th>
                <td mat-cell *matCellDef="let element"> {{element.admissionNum}} </td>
            </ng-container>
            <ng-container matColumnDef="dob">
                <th mat-header-cell *matHeaderCellDef>Date of <br> Birth</th>
                <td mat-cell *matCellDef="let element"> {{element.dob | date:'dd/MM/yyyy'}} </td>
                <!-- ' -->
            </ng-container>
            <ng-container matColumnDef="doa">
                <th mat-header-cell *matHeaderCellDef>Date of <br> Admission</th>
                <td mat-cell *matCellDef="let element"> {{element.doa | date:'dd/MM/yyyy'}} </td>
            </ng-container>
            <ng-container matColumnDef="gender">
                <th mat-header-cell *matHeaderCellDef>Gender</th>
                <td mat-cell *matCellDef="let element"> {{element.gender | titlecase}} </td>
            </ng-container>
            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef>Action</th>
                <td mat-cell *matCellDef="let element">
                    <a href="javascript:void(0);" (click)='editStudentDetails(element.recordId);'>
                        <mat-icon>edit</mat-icon>
                    </a>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="basicInfoTableHead"></tr>
            <tr mat-row *matRowDef="let element; columns: basicInfoTableHead;">
            </tr>
        </table>
        <mat-paginator [pageSizeOptions]="[1, 2, 3]" showFirstLastButtons></mat-paginator>

    </div>
</div>


<div *ngIf="common.studentAction=='add' || common.studentAction=='edit'" class="mr-5">
    <div class="text-right">
        <button type="button" mat-raised-button color="primary" class="btn-gradient" (click)="getStudentList();">Student
            List</button>
    </div>
    <div class="mt-3">
        <mat-horizontal-stepper [linear]="common.studentAction=='add'" #stepper>
            <mat-step [editable]="common.studentAction!='add'" [completed]='false'>
                <!--  [completed]='false' -->
                <ng-template matStepLabel>Basic Information</ng-template>
                <app-student-basic-info (event)=receiveBasicInfoData($event);></app-student-basic-info>
            </mat-step>

            <mat-step [editable]="common.studentAction!='add'" [completed]='false'>
                <ng-template matStepLabel>Education Details</ng-template>
                <app-student-education (educationEvent)=receiveEducationInfo($event);></app-student-education>
            </mat-step>

            <mat-step [editable]="common.studentAction!='add'" [completed]='false'>
                <ng-template matStepLabel>Incentive Details</ng-template>
                <app-student-incentive (incentiveEvent)=receiveIncentiveInfo($event);></app-student-incentive>
            </mat-step>

            <mat-step [editable]="common.studentAction!='add'" [completed]='false'>
                <ng-template matStepLabel>Vocational Details</ng-template>
                <app-student-vocational (vocationalEvent)=receiveVocationalInfo($event);></app-student-vocational>
            </mat-step>

            <mat-step [editable]="common.studentAction!='add'" [completed]='false'>
                <ng-template matStepLabel>Results</ng-template>
                <app-student-result (resultEvent)=receiveResultInfo($event);></app-student-result>
            </mat-step>


        </mat-horizontal-stepper>
    </div>
</div>



<div *ngIf='alertFlag'>
    <app-alert [message]='alertMsg' [flag]='alertFlag' [count]='alertCount'></app-alert>
</div>