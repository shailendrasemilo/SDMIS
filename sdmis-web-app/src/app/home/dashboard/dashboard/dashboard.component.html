<div class="mt-4 mb-5">
    <span class="page-head">Dashboard</span>
</div>

<div class="row">
    <div class="col-md-3" *ngIf="totalCreated">
        <mat-card class="dash-card">
            <div class="dashboard-card-head">
                Total Students in school
            </div>
            <div class="total-chart">
                <canvas baseChart chartType="doughnut" [data]="doughnutChartData" [options]="chartOptions"
                    [legend]="false" [colors]="chartColors">
                </canvas>
                <div class="text-chart">
                    {{profileSum}}
                </div>
            </div>
            <div class="chart-legend">
                <ul class="list-unstyled">
                    <li *ngFor='let label of chartMasterData' class="mr-3 mb-2 d-flex align-items-center">
                        <div [ngClass]="label.class=='complete' ? 'complete-profile' : 'remaining-profile'"
                            class="legend-layout"></div>
                        <div class="label-name">
                            {{label.name}}
                        </div>
                        <div class="ml-auto label-count">
                            {{label.count}}
                        </div>
                    </li>
                </ul>
            </div>
        </mat-card>
    </div>
    <div class="col-md-9" *ngIf="classWiseCreated">
        <mat-card class="dash-card">
            <div class="dashboard-card-head">
                Students class wise
            </div>

            <div class="row">
                <div class="col-md-6 pr-5">
                    <div class="class-wise-head">Classes:</div>
                    <ul class="list-unstyled">
                        <li *ngFor='let classWise of classWiseData'>
                            <div class="d-flex align-items-center classwise-chart" *ngIf="classWise.classNum % 2 != 0">
                                <div class="class-wise-label">{{classWise.classRoman}}</div>

                                <mat-progress-bar class="blue-progress mr-3" mode="determinate"
                                    [value]="classWise.count / classwiseMaxStd * 100">
                                </mat-progress-bar>

                                <div class="class-wise-count">{{classWise.count}}</div>
                            </div>


                        </li>
                    </ul>
                </div>
                <div class="col-md-6 pl-5">
                    <div class=" class-wise-head">Classes:</div>
                    <ul class="list-unstyled">
                        <li *ngFor='let classWise of classWiseData'>
                            <div class="d-flex align-items-center classwise-chart" *ngIf="classWise.classNum % 2 == 0">
                                <div class="class-wise-label">{{classWise.classRoman}}</div>

                                <mat-progress-bar class="blue-progress mr-3" mode="determinate"
                                    [value]="classWise.count / classwiseMaxStd * 100">
                                </mat-progress-bar>

                                <div class="class-wise-count">{{classWise.count}}</div>
                            </div>


                        </li>
                    </ul>
                </div>

            </div>

        </mat-card>
    </div>
</div>

<div class="profile-parent" *ngIf="sectionWiseCreated">
    <ul class="list-unstyled d-flex">
        <li *ngFor="let profile of profileWiseData">
            <mat-card class="profile-card">
                <div class="profile-head">{{profile.count}}</div>
                <div class="mt-3">{{profile.displayText}}</div>
                <mat-progress-bar class="green-progress mt-3" mode="determinate"
                                    [value]="profile.count / profileWiseMaxStd * 100">
                                </mat-progress-bar>
            </mat-card>
        </li>
    </ul>

</div>


<div *ngIf='alertFlag'>
    <app-alert [message]='alertMsg' [flag]='alertFlag' [count]='alertCount'></app-alert>
</div>